<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>COF_step1</title>
</head>
<body>
<script>
    /***
     *
     * @param orderType  表示订单类型
     * @param pay  表示用户是否支付订金
     * @param stock  仅普通用户的库存数量，定金用户不受影响
     */
    var order500 = function (orderType, pay ,stock) {
        if(orderType === 1 && pay === true ){
            console.log("500 rmb deposit, get 100 coupon");
        }else{
            order200(orderType, pay, stock);
        }
    }


    var order200 = function (orderType, pay, stock) {
        if(orderType === 2 && pay === true){
            console.log("200 rmb deposit, get 50 coupon");
        }else{
            orderNormal(orderType, pay, stock);
        }
    }


    var orderNormal = function (orderType, pay, stock) {
        if(stock > 0){
            console.log("normal buy no coupon");
        }else{
            console.log("the stock lack");
        }
    }


    // test result
    order500(1, true, 500);
    order500(2, true, 500);
    order500(3, true, 500);
    order500(4, false, 500);
</script>
</body>
</html>